<Window x:Class="ChatP2P.Client.P2PConfigWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="P2P Advanced Configuration" Height="450" Width="600"
        WindowStartupLocation="CenterOwner" Background="#FF2B2B2B">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock Grid.Row="0" Text="P2P Advanced Configuration" 
                   FontSize="18" FontWeight="Bold" Foreground="White" Margin="0,0,0,20"/>
        
        <GroupBox Grid.Row="1" Header="Transfer Settings" Margin="0,0,0,15" 
                  Foreground="White" BorderBrush="#FF0D7377">
            <Grid Margin="15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="150"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <Label Grid.Row="0" Grid.Column="0" Content="Chunk Size:" Foreground="White"/>
                <TextBox Grid.Row="0" Grid.Column="1" Name="txtChunkSize" Margin="5,0" 
                         Background="#FF404040" Foreground="White" BorderBrush="#FF666666"/>
                
                <Label Grid.Row="0" Grid.Column="2" Content="Max File Size (MB):" Foreground="White" Margin="20,0,0,0"/>
                <TextBox Grid.Row="0" Grid.Column="3" Name="txtMaxFileSize" Margin="5,0" 
                         Background="#FF404040" Foreground="White" BorderBrush="#FF666666"/>
                
                <CheckBox Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Name="chkUseCompression" 
                          Content="Use compression for file transfers" Margin="0,15,0,0" 
                          Foreground="White"/>
            </Grid>
        </GroupBox>
        
        <GroupBox Grid.Row="2" Header="Connection Settings" Margin="0,0,0,15" 
                  Foreground="White" BorderBrush="#FF0D7377">
            <Grid Margin="15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <Label Grid.Row="0" Grid.Column="0" Content="Connection Timeout (ms):" Foreground="White"/>
                <TextBox Grid.Row="0" Grid.Column="1" Name="txtConnectionTimeout" Margin="5,0" 
                         Background="#FF404040" Foreground="White" BorderBrush="#FF666666"/>
            </Grid>
        </GroupBox>
        
        <GroupBox Grid.Row="3" Header="STUN Servers" Margin="0,0,0,15" 
                  Foreground="White" BorderBrush="#FF0D7377">
            <Grid Margin="15">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <ListView Grid.Row="0" Name="lstStunServers" Background="#FF404040" 
                          Foreground="White" BorderBrush="#FF666666" Height="100"/>
                
                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,10,0,0">
                    <TextBox Name="txtNewStunServer" Width="300" 
                             Background="#FF404040" Foreground="White" BorderBrush="#FF666666" 
                             Margin="0,0,10,0" VerticalAlignment="Center"/>
                    <Button Name="btnAddStunServer" Content="Add" Width="60" Height="25" 
                            Background="#FF0D7377" Foreground="White" BorderBrush="Transparent" 
                            Click="BtnAddStunServer_Click"/>
                    <Button Name="btnRemoveStunServer" Content="Remove" Width="80" Height="25" 
                            Margin="10,0,0,0" Background="#FFFF6B6B" Foreground="White" 
                            BorderBrush="Transparent" Click="BtnRemoveStunServer_Click"/>
                </StackPanel>
            </Grid>
        </GroupBox>
        
        <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Name="btnReset" Content="Reset to Default" Width="120" Height="35" 
                    Margin="0,0,15,0" Background="#FF666666" Foreground="White" 
                    BorderBrush="Transparent" Click="BtnReset_Click"/>
            <Button Name="btnCancel" Content="Cancel" Width="80" Height="35" 
                    Margin="0,0,10,0" Background="#FF666666" Foreground="White" 
                    BorderBrush="Transparent" Click="BtnCancel_Click"/>
            <Button Name="btnSave" Content="Save" Width="80" Height="35" 
                    Background="#FF0D7377" Foreground="White" BorderBrush="Transparent" 
                    Click="BtnSave_Click"/>
        </StackPanel>
    </Grid>
</Window>